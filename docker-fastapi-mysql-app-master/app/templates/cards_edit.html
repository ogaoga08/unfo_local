{% extends "base.html" %}
{% block body %}
    <h3>カードを編集</h3>
    <hr>
    
        <div class="card text-center border-light front" style="width: 20rem; background-color: #d42450;">
            <div class="card-header">
                <input type="submit" class="btn btn-outline-light rounded-pill" name="article_state_change" value="OK"  disabled>
                <input type="submit" class="btn btn-outline-light rounded-pill" name="article_state_change" value="NG" disabled>

                <button class="flip-button btn btn-outline-light rounded-circle p-0" style="width:2rem;height:2rem;" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-back" viewBox="0 0 16 16">
                        <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z"/>
                    </svg>
                </button>

                <button class="btn btn-outline-light rounded-circle p-0" style="width:2rem;height:2rem;" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                        <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                    </svg>
                </button>
            </div> 

            <div class="card-body bg-white">
                <!-- <div class="form-floating">
                    <textarea type="text" style="width:100%; height: 5rem;" class="form-control" id="inputcontentFront" placeholder="表面" required></textarea>
                    <label for="imputcontentFront" class="form-label">表面: {{ article["title"] }}</label>
                </div> -->
                <h2 id="outputFront">{{ article["title"] }}</h2>

                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        勉強日: {{article["study_date"]}}   
                        {% if article["hash"] %}
                            #{{ article["hash"] }}
                        {% endif %}
                    </li>
                </ul>

                <div class="progress" role="progressbar" aria-label="表" aria-valuenow="{{ article['num_times'] * 14 }}" aria-valuemin="0" aria-valuemax="100" style="height: 15px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: {{ article['num_times'] * 14 }}%; background-color: #008db7;">あと{{ 8 - article['num_times'] }}回</div>
                </div>                
            </div>
            
        </div>
        <br>
        <div class="card text-center border-light back" style="width: 20rem; background-color: #fc3768;">
            <div class="card-header">
                <input type="submit" class="btn btn-outline-light rounded-pill" name="article_state_change" value="OK" disabled>
                <input type="submit" class="btn btn-outline-light rounded-pill" name="article_state_change" value="NG" disabled>

                <button class="flip-button btn btn-outline-light rounded-circle p-0" style="width:2rem;height:2rem;" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-back" viewBox="0 0 16 16">
                        <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z"/>
                    </svg>
                </button>

                <button class="btn btn-outline-light rounded-circle p-0" style="width:2rem;height:2rem;" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                        <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                    </svg>
                </button>
            </div> 
            <div class="card-body bg-white">
                <!-- <div class="form-floating">
                    <textarea type="text" style="width:100%; height: 5rem;" class="form-control" id="inputcontentBack" placeholder="裏面" required></textarea>
                    <label for="imputcontentBack" class="form-label">裏面: {{ article["body"] }}</label>
                </div> -->
                <h2 id="outputBack">{{ article["body"] }}</h2>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        勉強日: {{article["study_date"]}}   
                        {% if article["hash"] %}
                            #{{ article["hash"] }}
                        {% endif %}
                    </li>
                </ul>
                <div class="progress" role="progressbar" aria-label="裏" aria-valuenow="{{ article['num_times'] * 14 }}" aria-valuemin="0" aria-valuemax="100" style="height: 15px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: {{ article['num_times'] * 14 }}%; background-color: #008db7;">あと{{ 8 - article['num_times'] }}回</div>
                </div>        
            </div>
        </div>
        <br>
        <div class="card text-center" style="width: 20rem; padding:1rem;">
            <div class="form-floating mb-sm-1">
                <input type="text" class="form-control" id="inputFieldFront" name="title" size="10" placeholder="表面" maxlength="50" required>
                <label for="hash">表面</label>
            </div>

            <div class="form-floating mb-sm-1">
                <input type="text" class="form-control" id="inputFieldBack" name="title" size="10" placeholder="表面" maxlength="50" required>
                <label for="hash">裏面</label>
            </div>
        </div>
        
        <button class="btn btn-lg btn-outline-light rounded-pill" type="submit" style="width: 20rem; background-color: #c82c55;"
            data-bs-toggle="popover" data-bs-placement="top" data-bs-trigger="focus" data-bs-content="登録されました！">
                変更
        </button>
        

        <script>
            // input要素を取得
            const inputFieldFront = document.getElementById('inputFieldFront');
            const inputFieldBack = document.getElementById('inputFieldBack');
        
            // h2要素を取得
            const outputElementFront = document.getElementById('outputFront');
            const outputElementBack = document.getElementById('outputBack');
        
            // 表面のinput要素に入力があったときのイベントを設定
            inputFieldFront.addEventListener('input', (event) => {
              // 入力内容を取得
            const inputValue = event.target.value;
        
              // h2要素に入力内容を反映
            outputElementFront.textContent = inputValue;
            });
            
            // 裏面のinput要素に入力があったときのイベントを設定
            inputFieldBack.addEventListener('input', (event) => {
            // 入力内容を取得
            const inputValue = event.target.value;

            // 裏面のh2要素に入力内容を反映
            outputElementBack.textContent = inputValue;
            });
        </script>
{% endblock %}